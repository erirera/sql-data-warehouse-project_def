/*
============================================================================
This script creates multiple tables in the silver schema, 
including customer, product, sales details, and ERP-related tables, 
with appropriate columns and data types.
============================================================================
*/
-- Table: silver.crm_cust_info

DROP TABLE IF EXISTS silver.crm_cust_info;
CREATE TABLE IF NOT EXISTS silver.crm_cust_info
(
    cst_id integer,
    cst_key character varying(50) COLLATE pg_catalog."default",
    cst_firstname character varying(50) COLLATE pg_catalog."default",
    cst_lastname character varying(50) COLLATE pg_catalog."default",
    cst_marital_status character(1) COLLATE pg_catalog."default",
    cst_gndr character(1) COLLATE pg_catalog."default",
    cst_create_date date,
	dwh_create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP    
)
TABLESPACE pg_default;
ALTER TABLE IF EXISTS silver.crm_cust_info
    OWNER to postgres;

-- Table: silver.crm_prd_info

DROP TABLE IF EXISTS silver.crm_prd_info;
CREATE TABLE IF NOT EXISTS silver.crm_prd_info
(
    prd_id integer,
    prd_key character varying(30) COLLATE pg_catalog."default",
    prd_nm character varying(100) COLLATE pg_catalog."default",
    prd_cost numeric(10,2),
    prd_line character(1) COLLATE pg_catalog."default",
    prd_start_dt date,
    prd_end_dt date,
	dwh_create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    )
TABLESPACE pg_default;
ALTER TABLE IF EXISTS silver.crm_prd_info
    OWNER to postgres;

-- Table: silver.crm_sales_details

DROP TABLE IF EXISTS silver.crm_sales_details;
CREATE TABLE IF NOT EXISTS silver.crm_sales_details
(
    sls_ord_num character varying(20) COLLATE pg_catalog."default",
    sls_prd_key character varying(30) COLLATE pg_catalog."default",
    sls_cust_id integer,
    sls_order_dt date,
    sls_ship_dt date,
    sls_due_dt date,
    sls_sales numeric(10,2),
    sls_quantity integer,
    sls_price numeric(10,2),
	dwh_create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
TABLESPACE pg_default;
ALTER TABLE IF EXISTS silver.crm_sales_details
    OWNER to postgres;

-- Table: silver.erp_cust_az12

DROP TABLE IF EXISTS silver.erp_cust_az12;
CREATE TABLE IF NOT EXISTS silver.erp_cust_az12
(
    cid character varying(20) COLLATE pg_catalog."default",
    bdate date,
    gen character varying(10) COLLATE pg_catalog."default",
    dwh_create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
TABLESPACE pg_default;
ALTER TABLE IF EXISTS silver.erp_cust_az12
    OWNER to postgres;

-- Table: silver.erp_loc_a101

DROP TABLE IF EXISTS silver.erp_loc_a101;
CREATE TABLE IF NOT EXISTS silver.erp_loc_a101
(
    cid character varying(20) COLLATE pg_catalog."default",
    cntry character varying(50) COLLATE pg_catalog."default",
	dwh_create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
TABLESPACE pg_default;
ALTER TABLE IF EXISTS silver.erp_loc_a101
    OWNER to postgres;

-- Table: silver.erp_px_cat_g1v2

DROP TABLE IF EXISTS silver.erp_px_cat_g1v2;
CREATE TABLE IF NOT EXISTS silver.erp_px_cat_g1v2
(
    id character varying(10) COLLATE pg_catalog."default",
    cat character varying(50) COLLATE pg_catalog."default",
    subcat character varying(100) COLLATE pg_catalog."default",
    maintenance text,
	dwh_create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
TABLESPACE pg_default;
ALTER TABLE IF EXISTS silver.erp_px_cat_g1v2
    OWNER to postgres;
